# Copy this file to .env.local and update with your actual values

# Database
# For development: Use SQLite with DATABASE_URL="file:./dev.db"
# For production: Use PostgreSQL with DATABASE_URL="postgresql://user:password@localhost:5432/agridrone"
DATABASE_URL="file:./dev.db"

# NextAuth
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="generate-a-secret-key-here"

# OAuth providers (optional)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Roboflow API & Training Integration
ROBOFLOW_API_KEY="your-roboflow-api-key"
ROBOFLOW_WORKSPACE="your-workspace"
ROBOFLOW_PROJECT="your-project"
ROBOFLOW_TRAINING_PROJECT="your-training-project"  # Project to push training data to

# Self-hosted YOLO Training Service
YOLO_SERVICE_URL="http://localhost:8001"
# YOLO_SERVICE_API_KEY=""

# Map services
MAPBOX_ACCESS_TOKEN="your-mapbox-token"

# File storage
STORAGE_TYPE="local"
# AWS_ACCESS_KEY_ID=""
# AWS_SECRET_ACCESS_KEY=""
# AWS_REGION=""
# S3_BUCKET=""

# Redis (for job queue)
REDIS_URL="redis://localhost:6379"

# SAM3 Segmentation
# Uses AWS EC2 SAM3 instance as primary, with Roboflow serverless fallback
# Requires ROBOFLOW_API_KEY for fallback mode

# AWS EC2 SAM3 Instance (primary backend)
# The instance auto-starts when needed and stops after idle timeout
SAM3_INSTANCE_ID=""                    # e.g., "i-04a662566087d9c4f"
SAM3_PORT="8000"                       # Port the SAM3 API runs on
SAM3_IDLE_TIMEOUT_MS="3600000"         # Auto-shutdown after 1 hour idle (ms)

# Note: AWS credentials (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_REGION)
# are used for EC2 instance management. The instance must have tag Name=agridrone-sam3
#
# IMPORTANT: The IAM user must have the following EC2 permissions:
#   - ec2:DescribeInstances  (to discover instance IP)
#   - ec2:StartInstances     (to start instance when needed)
#   - ec2:StopInstances      (for auto-shutdown after idle)

# Self-hosted SAM3 Service (optional alternative - Docker)
# SAM3_SERVICE_URL="http://localhost:8000"
# HF_TOKEN=""  # HuggingFace token for model download
